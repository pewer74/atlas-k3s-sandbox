{
    "name": "Apache Atlas Development Environment",
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu-22.04",
    
    "features": {
        // 確保 Docker 和 Docker Compose 已經安裝
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            "mobsf": "false" 
        }
    },

    // 啟動後執行的指令：使用 Docker Compose 啟動 Atlas
    "postCreateCommand": [
        "echo '--- Apache Atlas 依賴服務啟動中 (Docker Compose) ---'",
        // 假設您的 docker-compose.yml 已經準備好，並且包含 Atlas 及所有後端服務
        "docker compose -f docker-compose.yml up -d",
        "echo '等待 Atlas 啟動，這可能需要幾分鐘...'"
    ],
    
    // 開放 Apache Atlas 的預設埠口 (21000)
    "forwardPorts": [
        21000
    ],

    "customizations": {
        // ... (省略 extensions) ...
    }
    // ...
}
